{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\nimport { Card, Button } from '@shopify/polaris';\nimport '../css/AppStyle.css';\nimport axios from 'axios';\nimport ProductList from './ProductList.js';\n\nvar config = require('../../server/config/httpConfig.js');\n\nimport '../css/AppStyle.css';\nexport var Refresh = /*#__PURE__*/React.createContext();\n\nfunction ProductPicker(_ref) {\n  _s();\n\n  var valueID = _ref.valueID;\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      refresh = _useState2[0],\n      setRefresh = _useState2[1];\n\n  var db_data = {};\n  return __jsx(Card, {\n    sectioned: true\n  }, __jsx(Refresh.Provider, {\n    value: {\n      refresh: refresh,\n      setRefresh: setRefresh\n    }\n  }, __jsx(ProductList, {\n    valueID: valueID\n  })), __jsx(\"div\", {\n    className: \"product-btn\"\n  }, __jsx(Button, {\n    primary: true,\n    onClick: function onClick() {\n      setOpen(true);\n    }\n  }, \"Open Product Picker\")), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resources) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resources.selection.length === 1 ? db_data = {\n                  product_first: resources.selection[0].handle,\n                  product_second: null,\n                  product_third: null,\n                  product_forth: null\n                } : null;\n                resources.selection.length === 2 ? db_data = {\n                  product_first: resources.selection[0].handle,\n                  product_second: resources.selection[1].handle,\n                  product_third: null,\n                  product_forth: null\n                } : null;\n                resources.selection.length === 3 ? db_data = {\n                  product_first: resources.selection[0].handle,\n                  product_second: resources.selection[1].handle,\n                  product_third: resources.selection[2].handle,\n                  product_forth: null\n                } : null;\n                resources.selection.length >= 4 ? db_data = {\n                  product_first: resources.selection[0].handle,\n                  product_second: resources.selection[1].handle,\n                  product_third: resources.selection[2].handle,\n                  product_forth: resources.selection[3].handle\n                } : null;\n                setOpen(false);\n                _context.next = 7;\n                return axios.put(config.HTTP_API + '/store/' + valueID, db_data);\n\n              case 7:\n                setRefresh(true);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    onCancel: function onCancel() {\n      return setOpen(false);\n    }\n  }));\n}\n\n_s(ProductPicker, \"q1l7Op77ErODt4JA5Vl0tYZcJhg=\");\n\n_c = ProductPicker;\nexport default ProductPicker;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPicker\");","map":{"version":3,"sources":["C:/Users/molek/OneDrive/Desktop/Work/Magic-Upsell/client/components/ProductPicker.js"],"names":["React","useState","ResourcePicker","TitleBar","Card","Button","axios","ProductList","config","require","Refresh","createContext","ProductPicker","valueID","open","setOpen","refresh","setRefresh","db_data","resources","selection","length","product_first","handle","product_second","product_third","product_forth","put","HTTP_API"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  ResourcePicker, TitleBar\r\n} from '@shopify/app-bridge-react';\r\nimport { Card, Button } from '@shopify/polaris';\r\nimport '../css/AppStyle.css';\r\nimport axios from 'axios';\r\nimport ProductList from './ProductList.js'\r\nconst config = require('../../server/config/httpConfig.js');\r\nimport '../css/AppStyle.css';\r\nexport const Refresh = React.createContext();\r\n\r\nfunction ProductPicker({valueID}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [refresh, setRefresh] = useState(false);\r\n  var db_data = {};\r\n  return (\r\n    <Card sectioned>\r\n      <Refresh.Provider value={{refresh, setRefresh}}>\r\n        <ProductList valueID={valueID}/>\r\n      </Refresh.Provider>\r\n      <div className=\"product-btn\">\r\n        <Button\r\n        primary\r\n        onClick = {() => {\r\n          setOpen(true);\r\n        }}>Open Product Picker</Button>\r\n      </div>\r\n      <ResourcePicker\r\n        resourceType=\"Product\"\r\n        showVariants={false}\r\n        open={open}\r\n        onSelection={async (resources) => {\r\n          resources.selection.length === 1 ? db_data = {product_first:resources.selection[0].handle, product_second:null, product_third:null, product_forth:null} : null;\r\n          resources.selection.length === 2 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:null, product_forth:null} : null;\r\n          resources.selection.length === 3 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:resources.selection[2].handle, product_forth:null} : null;\r\n          resources.selection.length >= 4 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:resources.selection[2].handle, product_forth:resources.selection[3].handle} : null;\r\n          setOpen(false);\r\n          await axios.put(config.HTTP_API + '/store/' + valueID, db_data);\r\n          setRefresh(true);\r\n        }}\r\n        onCancel={()=>setOpen(false)}\r\n        />\r\n\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProductPicker;\r\n"]},"metadata":{},"sourceType":"module"}