{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { Form, FormLayout, TextField, Toast, ButtonGroup, Button, Checkbox, RadioButton, Card } from '@shopify/polaris';\nimport axios from 'axios';\nimport '../css/AppStyle.css';\n\nvar config = require('../../server/config/httpConfig.js');\n\nfunction ThemeSetting(props) {\n  _s();\n\n  var isInitialMount = useRef(true);\n\n  var _useState = useState(),\n      themeColor = _useState[0],\n      setThemeColor = _useState[1];\n\n  var _useState2 = useState(),\n      fontColor = _useState2[0],\n      setFontColor = _useState2[1];\n\n  var _useState3 = useState(),\n      efontColor = _useState3[0],\n      setEfontColor = _useState3[1];\n\n  var _useState4 = useState(),\n      buttonColor = _useState4[0],\n      setButtonColor = _useState4[1];\n\n  var _useState5 = useState(),\n      headerColor = _useState5[0],\n      setHeaderColor = _useState5[1];\n\n  var _useState6 = useState(),\n      second = _useState6[0],\n      setSecond = _useState6[1];\n\n  var _useState7 = useState(),\n      minute = _useState7[0],\n      setMinute = _useState7[1];\n\n  var _useState8 = useState(false),\n      checked = _useState8[0],\n      setChecked = _useState8[1];\n\n  var _useState9 = useState('radio'),\n      variantType = _useState9[0],\n      setVariantType = _useState9[1];\n\n  var _useState10 = useState('disabled'),\n      checkedRadio = _useState10[0],\n      setCheckedRadio = _useState10[1];\n\n  var _useState11 = useState(''),\n      theme_title = _useState11[0],\n      setThemeTitle = _useState11[1];\n\n  var _useState12 = useState(),\n      firstBtn = _useState12[0],\n      setFirstBtn = _useState12[1];\n\n  var _useState13 = useState(),\n      secondBtn = _useState13[0],\n      setSecondBtn = _useState13[1];\n\n  var _useState14 = useState(),\n      message = _useState14[0],\n      setMessage = _useState14[1];\n\n  var _useState15 = useState(false),\n      showToast = _useState15[0],\n      setToast = _useState15[1];\n\n  var toggleToast = function toggleToast() {\n    return setToast(!showToast);\n  };\n\n  var toastMarkup = showToast ? __jsx(Toast, {\n    content: message,\n    onDismiss: toggleToast,\n    Diduration: 2500\n  }) : null;\n  useEffect(function () {\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n\n    function _getData() {\n      _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var search_data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                search_data = {\n                  search: props.valueID\n                };\n                _context.next = 3;\n                return axios.post(config.HTTP_API + '/store/search/theme', search_data).then(function (res) {\n                  setThemeColor(res.data[0].theme_color);\n                  setFontColor(res.data[0].theme_font_color);\n                  setEfontColor(res.data[0].theme_efont_color);\n                  setButtonColor(res.data[0].theme_button_color);\n                  setHeaderColor(res.data[0].theme_header_color);\n                  res.data[0].variant_type == 'dropdown' ? setCheckedRadio('optional') : setCheckedRadio('disabled');\n\n                  if (res.data[0].theme_title) {\n                    setThemeTitle(res.data[0].theme_title);\n                  } else {\n                    setThemeTitle('20% OFF Your Next Order!');\n                  }\n\n                  setFirstBtn(res.data[0].first_btn_text);\n                  setSecondBtn(res.data[0].second_btn_text);\n                  setMinute(res.data[0].minute);\n                  setSecond(res.data[0].second);\n                  setChecked(res.data[0].timer);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(isInitialMount.current && props)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                isInitialMount.current = false;\n                _context2.next = 4;\n                return getData();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  });\n  return __jsx(\"div\", null, toastMarkup, __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '50%'\n    }\n  }, __jsx(Card, {\n    title: \"Upsell theme design\",\n    sectioned: true\n  }, __jsx(Form, null, __jsx(FormLayout, null, __jsx(TextField, {\n    value: theme_title,\n    onChange: function onChange(value) {\n      return setThemeTitle(value);\n    },\n    label: \"Custom Title\",\n    type: \"text\"\n  }), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(\"div\", null, __jsx(TextField, {\n    id: \"theme_color\",\n    placeholder: \"color\",\n    value: themeColor,\n    onChange: function onChange(value) {\n      return setThemeColor(value);\n    },\n    label: \"Theme color\"\n  })), __jsx(\"div\", null, __jsx(TextField, {\n    id: \"header_color\",\n    placeholder: \"color\",\n    value: headerColor,\n    onChange: function onChange(value) {\n      return setHeaderColor(value);\n    },\n    label: \"Header color\"\n  }))), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(\"div\", null, __jsx(TextField, {\n    id: \"font_color\",\n    placeholder: \"color\",\n    value: fontColor,\n    onChange: function onChange(value) {\n      return setFontColor(value);\n    },\n    label: \"Font color\"\n  })), __jsx(\"div\", null, __jsx(TextField, {\n    id: \"highlight_color\",\n    placeholder: \"color\",\n    value: efontColor,\n    onChange: function onChange(value) {\n      return setEfontColor(value);\n    },\n    label: \"Highlighted color\"\n  }))), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(\"div\", null, __jsx(TextField, {\n    id: \"button_color\",\n    placeholder: \"color\",\n    value: buttonColor,\n    onChange: function onChange(value) {\n      return setButtonColor(value);\n    },\n    label: \"Button color\"\n  }))), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(\"div\", null, __jsx(TextField, {\n    id: \"first_btn_text\",\n    placeholder: firstBtn,\n    value: firstBtn,\n    onChange: function onChange(value) {\n      return setFirstBtn(value);\n    },\n    label: \"First Button\"\n  })), __jsx(\"div\", null, __jsx(TextField, {\n    id: \"second_btn_text\",\n    placeholder: secondBtn,\n    value: secondBtn,\n    onChange: function onChange(value) {\n      return setSecondBtn(value);\n    },\n    label: \"Second Button\"\n  }))), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(RadioButton, {\n    label: \"Radio\",\n    checked: checkedRadio === 'disabled',\n    id: \"disabled\",\n    name: \"accounts\",\n    onChange: function onChange(value) {\n      setCheckedRadio('disabled');\n    }\n  }), __jsx(RadioButton, {\n    label: \"Drop Down\",\n    id: \"optional\",\n    name: \"accounts\",\n    checked: checkedRadio === 'optional',\n    onChange: function onChange(value) {\n      setCheckedRadio('optional');\n    }\n  })), __jsx(Checkbox, {\n    id: \"check_box\",\n    label: \"Enable timer\",\n    checked: checked,\n    onChange: function onChange(value) {\n      return setChecked(value);\n    }\n  }), __jsx(\"div\", {\n    className: \"flex-container\"\n  }, __jsx(\"div\", null, __jsx(TextField, {\n    id: \"minute\",\n    disabled: !checked,\n    placeholder: \"3\",\n    value: minute,\n    onChange: function onChange(value) {\n      return setMinute(value);\n    },\n    label: \"Minute\",\n    type: \"number\"\n  })), __jsx(\"div\", null, __jsx(TextField, {\n    id: \"second\",\n    disabled: !checked,\n    placeholder: \"30\",\n    value: second,\n    onChange: function onChange(value) {\n      return setSecond(value);\n    },\n    label: \"Second\",\n    type: \"number\"\n  }))), __jsx(ButtonGroup, null, __jsx(Button, {\n    onClick: function onClick() {\n      setThemeColor('#f47777');\n      setHeaderColor('white');\n      setFontColor('black');\n      setEfontColor('#f74444');\n      setButtonColor('#f74444');\n      setChecked(true);\n      setMinute(3);\n      setSecond(30);\n      setCheckedRadio('disabled');\n      setThemeTitle('');\n      setFirstBtn('No Thanks :(');\n      setSecondBtn('Add To Cart');\n    }\n  }, \"Reset to default\"), __jsx(Button, {\n    primary: true,\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var db_data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              checkedRadio == 'disabled' ? setVariantType('radio') : setVariantType('dropdown');\n              db_data = {\n                theme_color: themeColor,\n                theme_font_color: fontColor,\n                theme_efont_color: efontColor,\n                theme_header_color: headerColor,\n                theme_button_color: buttonColor,\n                first_btn_text: firstBtn,\n                second_btn_text: secondBtn,\n                timer: checked,\n                minute: minute,\n                second: second,\n                variant_type: variantType,\n                theme_title: theme_title\n              };\n              _context3.next = 4;\n              return axios.put(config.HTTP_API + '/store/' + props.valueID, db_data).then(function () {\n                setMessage('Theme applied successfully');\n                toggleToast();\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }))\n  }, \"Apply theme\")))))), __jsx(\"div\", {\n    className: \"modelContent\",\n    style: {\n      width: '50%'\n    }\n  }, __jsx(\"div\", {\n    className: \"upsellHeader\",\n    style: {\n      'backgroundColor': themeColor\n    }\n  }, checked == 1 ? __jsx(\"p\", {\n    className: \"timer\",\n    style: {\n      'color': headerColor\n    }\n  }, minute, \":\", second) : null, theme_title ? __jsx(\"h1\", {\n    style: {\n      'color': headerColor\n    }\n  }, theme_title) : __jsx(\"h1\", {\n    style: {\n      'color': headerColor\n    }\n  }, __jsx(\"span\", {\n    className: \"discount\"\n  }, \"20% OFF\"), \" Your Next Order!\")), __jsx(\"img\", {\n    className: \"upsell-img\",\n    src: \"https://cdn.shopify.com/s/files/1/0273/3332/8930/files/default.png?v=1578600042\"\n  }), __jsx(\"div\", {\n    className: \"upsellInner\"\n  }, __jsx(\"p\", {\n    className: \"upsell-title\",\n    style: {\n      'color': fontColor\n    }\n  }, \"Comfy T-Shirt\"), __jsx(\"div\", {\n    className: \"flex\"\n  }, __jsx(\"p\", {\n    className: \"upsell-price\",\n    style: {\n      'color': efontColor\n    }\n  }, \"25.99\"), __jsx(\"p\", {\n    className: \"compare\",\n    style: {\n      'color': fontColor\n    }\n  }, \"59.99\")), checkedRadio == 'disabled' ? __jsx(\"div\", {\n    className: \"variants-dic\"\n  }, __jsx(\"li\", {\n    className: \"variants-list\"\n  }, __jsx(\"button\", {\n    className: \"variants-btn selected\",\n    style: {\n      'color': efontColor,\n      'borderColor': efontColor\n    }\n  }, \"Pink\")), __jsx(\"li\", {\n    className: \"variants-list\"\n  }, __jsx(\"button\", {\n    className: \"variants-btn\",\n    style: {\n      'color': fontColor\n    }\n  }, \"Blue\")), __jsx(\"li\", {\n    className: \"variants-list\"\n  }, __jsx(\"button\", {\n    className: \"variants-btn\",\n    style: {\n      'color': fontColor\n    }\n  }, \"Yellow\"))) : __jsx(\"div\", {\n    className: \"variants-dic\"\n  }, __jsx(\"select\", {\n    className: \"variants-list-drop\",\n    style: {\n      'color': efontColor\n    }\n  }, __jsx(\"option\", null, \"Pink\"), __jsx(\"option\", null, \"Blue\"), __jsx(\"option\", null, \"Yellow\"))), __jsx(\"div\", {\n    className: \"buttonFlex\"\n  }, __jsx(\"button\", {\n    className: \"change-next\",\n    style: {\n      'color': fontColor\n    }\n  }, firstBtn), __jsx(\"button\", {\n    className: \"add-to-cart\",\n    style: {\n      'backgroundColor': buttonColor\n    }\n  }, secondBtn))))));\n}\n\n_s(ThemeSetting, \"6NoPf667tOIJdU/rO+gAwAB4TWQ=\");\n\n_c = ThemeSetting;\nexport default ThemeSetting;\n\nvar _c;\n\n$RefreshReg$(_c, \"ThemeSetting\");","map":{"version":3,"sources":["C:/Users/molek/OneDrive/Desktop/Work/Magic-Upsell/client/components/ThemeSetting.js"],"names":["React","useState","useRef","useCallback","useEffect","Form","FormLayout","TextField","Toast","ButtonGroup","Button","Checkbox","RadioButton","Card","axios","config","require","ThemeSetting","props","isInitialMount","themeColor","setThemeColor","fontColor","setFontColor","efontColor","setEfontColor","buttonColor","setButtonColor","headerColor","setHeaderColor","second","setSecond","minute","setMinute","checked","setChecked","variantType","setVariantType","checkedRadio","setCheckedRadio","theme_title","setThemeTitle","firstBtn","setFirstBtn","secondBtn","setSecondBtn","message","setMessage","showToast","setToast","toggleToast","toastMarkup","getData","search_data","search","valueID","post","HTTP_API","then","res","data","theme_color","theme_font_color","theme_efont_color","theme_button_color","theme_header_color","variant_type","first_btn_text","second_btn_text","timer","fetchData","current","display","width","value","db_data","put"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  FormLayout,\r\n  TextField,\r\n  Toast,\r\n  ButtonGroup,\r\n  Button,\r\n  Checkbox,\r\n  RadioButton,\r\n  Card\r\n} from '@shopify/polaris';\r\nimport axios from 'axios';\r\nimport '../css/AppStyle.css';\r\n\r\nconst config = require('../../server/config/httpConfig.js');\r\n\r\nfunction ThemeSetting(props) {\r\n  const isInitialMount = useRef(true);\r\n  const [themeColor, setThemeColor] = useState();\r\n  const [fontColor, setFontColor] = useState();\r\n  const [efontColor, setEfontColor] = useState();\r\n  const [buttonColor, setButtonColor] = useState();\r\n  const [headerColor, setHeaderColor] = useState();\r\n  const [second, setSecond] = useState();\r\n  const [minute, setMinute] = useState();\r\n  const [checked, setChecked] = useState(false);\r\n  const [variantType, setVariantType] = useState('radio');\r\n  const [checkedRadio, setCheckedRadio] = useState('disabled');\r\n  const [theme_title, setThemeTitle] = useState('');\r\n  const [firstBtn, setFirstBtn] = useState();\r\n  const [secondBtn, setSecondBtn] = useState();\r\n  const [message, setMessage] = useState();\r\n  const [showToast, setToast] = useState(false);\r\n  const toggleToast = () => setToast(!showToast);\r\n  const toastMarkup = showToast ? (\r\n    <Toast content={message} onDismiss={toggleToast} Diduration={2500} />\r\n  ) : null;\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      const search_data = { search: props.valueID };\r\n      await axios.post(config.HTTP_API + '/store/search/theme', search_data).then((res) => {\r\n        setThemeColor(res.data[0].theme_color);\r\n        setFontColor(res.data[0].theme_font_color);\r\n        setEfontColor(res.data[0].theme_efont_color);\r\n        setButtonColor(res.data[0].theme_button_color);\r\n        setHeaderColor(res.data[0].theme_header_color);\r\n        res.data[0].variant_type == 'dropdown' ? setCheckedRadio('optional') : setCheckedRadio('disabled');\r\n        if (res.data[0].theme_title) {\r\n          setThemeTitle(res.data[0].theme_title);\r\n        } else {\r\n          setThemeTitle('20% OFF Your Next Order!');\r\n        }\r\n        setFirstBtn(res.data[0].first_btn_text);\r\n        setSecondBtn(res.data[0].second_btn_text);\r\n        setMinute(res.data[0].minute);\r\n        setSecond(res.data[0].second);\r\n        setChecked(res.data[0].timer);\r\n      });\r\n    }\r\n    async function fetchData() {\r\n      if (isInitialMount.current && props) {\r\n        isInitialMount.current = false;\r\n        await getData();\r\n      }\r\n    }\r\n    fetchData();\r\n\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {toastMarkup}\r\n      <div style={{ display: 'flex' }}>\r\n        <div style={{ width: '50%' }}>\r\n          <Card title=\"Upsell theme design\" sectioned>\r\n            <Form>\r\n              <FormLayout>\r\n                <TextField\r\n                  value={theme_title}\r\n                  onChange={value => setThemeTitle(value)}\r\n                  label=\"Custom Title\"\r\n                  type=\"text\"\r\n                />\r\n                <div className=\"flex-container\">\r\n                  <div>\r\n                    <TextField\r\n                      id=\"theme_color\"\r\n                      placeholder=\"color\"\r\n                      value={themeColor}\r\n                      onChange={value => setThemeColor(value)}\r\n                      label=\"Theme color\" />\r\n                  </div>\r\n                  <div>\r\n                    <TextField\r\n                      id=\"header_color\"\r\n                      placeholder=\"color\"\r\n                      value={headerColor}\r\n                      onChange={value => setHeaderColor(value)}\r\n                      label=\"Header color\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex-container\">\r\n                  <div>\r\n                    <TextField\r\n                      id=\"font_color\"\r\n                      placeholder=\"color\"\r\n                      value={fontColor}\r\n                      onChange={value => setFontColor(value)}\r\n                      label=\"Font color\" />\r\n                  </div>\r\n                  <div>\r\n                    <TextField\r\n                      id=\"highlight_color\"\r\n                      placeholder=\"color\"\r\n                      value={efontColor}\r\n                      onChange={value => setEfontColor(value)}\r\n                      label=\"Highlighted color\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex-container\">\r\n                  <div>\r\n                    <TextField\r\n                      id=\"button_color\"\r\n                      placeholder=\"color\"\r\n                      value={buttonColor}\r\n                      onChange={value => setButtonColor(value)}\r\n                      label=\"Button color\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex-container\">\r\n                  <div>\r\n                    <TextField\r\n                      id=\"first_btn_text\"\r\n                      placeholder={firstBtn}\r\n                      value={firstBtn}\r\n                      onChange={value => setFirstBtn(value)}\r\n                      label=\"First Button\" />\r\n                  </div>\r\n                  <div>\r\n                    <TextField\r\n                      id=\"second_btn_text\"\r\n                      placeholder={secondBtn}\r\n                      value={secondBtn}\r\n                      onChange={value => setSecondBtn(value)}\r\n                      label=\"Second Button\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex-container\">\r\n                  <RadioButton\r\n                    label=\"Radio\"\r\n                    checked={checkedRadio === 'disabled'}\r\n                    id=\"disabled\"\r\n                    name=\"accounts\"\r\n                    onChange={(value) => {setCheckedRadio('disabled')}}\r\n                  />\r\n                  <RadioButton\r\n                    label=\"Drop Down\"\r\n                    id=\"optional\"\r\n                    name=\"accounts\"\r\n                    checked={checkedRadio === 'optional'}\r\n                    onChange={(value) => {setCheckedRadio('optional')}}\r\n                  />\r\n                </div>\r\n                <Checkbox\r\n                  id=\"check_box\"\r\n                  label=\"Enable timer\"\r\n                  checked={checked}\r\n                  onChange={(value) => setChecked(value)}\r\n                />\r\n                <div className=\"flex-container\">\r\n                  <div>\r\n                    <TextField\r\n                      id=\"minute\"\r\n                      disabled={!checked}\r\n                      placeholder=\"3\"\r\n                      value={minute}\r\n                      onChange={value => setMinute(value)}\r\n                      label=\"Minute\"\r\n                      type=\"number\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <TextField\r\n                      id=\"second\"\r\n                      disabled={!checked}\r\n                      placeholder=\"30\"\r\n                      value={second}\r\n                      onChange={value => setSecond(value)}\r\n                      label=\"Second\"\r\n                      type=\"number\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <ButtonGroup>\r\n                  <Button\r\n                    onClick={() => {\r\n                      setThemeColor('#f47777');\r\n                      setHeaderColor('white');\r\n                      setFontColor('black');\r\n                      setEfontColor('#f74444');\r\n                      setButtonColor('#f74444');\r\n                      setChecked(true);\r\n                      setMinute(3);\r\n                      setSecond(30);\r\n                      setCheckedRadio('disabled');\r\n                      setThemeTitle('');\r\n                      setFirstBtn('No Thanks :(');\r\n                      setSecondBtn('Add To Cart');\r\n                    }}>Reset to default</Button>\r\n                  <Button\r\n                    primary\r\n                    onClick={async () => {\r\n                      checkedRadio == 'disabled' ? setVariantType('radio') : setVariantType('dropdown');\r\n                      const db_data = {\r\n                        theme_color: themeColor,\r\n                        theme_font_color: fontColor,\r\n                        theme_efont_color: efontColor,\r\n                        theme_header_color: headerColor,\r\n                        theme_button_color: buttonColor,\r\n                        first_btn_text: firstBtn,\r\n                        second_btn_text: secondBtn,\r\n                        timer: checked,\r\n                        minute: minute,\r\n                        second: second,\r\n                        variant_type: variantType,\r\n                        theme_title: theme_title\r\n                      };\r\n                      await axios.put(config.HTTP_API + '/store/' + props.valueID, db_data).then(() => {\r\n                        setMessage('Theme applied successfully');\r\n                        toggleToast();\r\n                      })\r\n                    }}>Apply theme</Button>\r\n                </ButtonGroup>\r\n              </FormLayout>\r\n            </Form>\r\n          </Card>\r\n        </div>\r\n        <div className=\"modelContent\" style={{ width: '50%' }}>\r\n          <div className=\"upsellHeader\" style={{ 'backgroundColor': themeColor }}>\r\n            {checked == 1 ? (\r\n              <p className=\"timer\" style={{ 'color': headerColor }}>{minute}:{second}</p>\r\n            ) : (\r\n              null\r\n            )}\r\n            {theme_title ?\r\n              <h1 style={{ 'color': headerColor }}>{theme_title}</h1>\r\n              :\r\n              <h1 style={{ 'color': headerColor }}><span className=\"discount\">20% OFF</span> Your Next Order!</h1>\r\n            }\r\n          </div>\r\n          <img className=\"upsell-img\" src=\"https://cdn.shopify.com/s/files/1/0273/3332/8930/files/default.png?v=1578600042\" />\r\n          <div className=\"upsellInner\">\r\n            <p className=\"upsell-title\" style={{ 'color': fontColor }}>Comfy T-Shirt</p>\r\n            <div className=\"flex\">\r\n              <p className=\"upsell-price\" style={{ 'color': efontColor }}>25.99</p>\r\n              <p className=\"compare\" style={{ 'color': fontColor }}>59.99</p>\r\n            </div>\r\n            {checkedRadio == 'disabled' ? (\r\n              <div className=\"variants-dic\">\r\n                <li className=\"variants-list\"><button className=\"variants-btn selected\" style={{ 'color': efontColor, 'borderColor': efontColor }}>Pink</button></li>\r\n                <li className=\"variants-list\"><button className=\"variants-btn\" style={{ 'color': fontColor }}>Blue</button></li>\r\n                <li className=\"variants-list\"><button className=\"variants-btn\" style={{ 'color': fontColor }}>Yellow</button></li>\r\n              </div>\r\n            ) : (\r\n              <div className=\"variants-dic\">\r\n                <select className=\"variants-list-drop\" style={{ 'color': efontColor }}>\r\n                  <option>Pink</option><option>Blue</option><option>Yellow</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n            <div className=\"buttonFlex\">\r\n              <button className=\"change-next\" style={{ 'color': fontColor }}>{firstBtn}</button>\r\n              <button className=\"add-to-cart\" style={{ 'backgroundColor': buttonColor }}>{secondBtn}</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ThemeSetting;\r\n"]},"metadata":{},"sourceType":"module"}