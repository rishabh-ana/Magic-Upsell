{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\nimport { Card, Button } from '@shopify/polaris';\nimport '../css/AppStyle.css';\nimport axios from 'axios';\nimport ProductList from './ProductList.js';\n\nconst config = require('../../server/config/httpConfig.js');\n\nimport '../css/AppStyle.css';\nexport const Refresh = /*#__PURE__*/React.createContext();\n\nfunction ProductPicker({\n  valueID\n}) {\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: refresh,\n    1: setRefresh\n  } = useState(false);\n  var db_data = {};\n  return __jsx(Card, {\n    sectioned: true\n  }, __jsx(Refresh.Provider, {\n    value: {\n      refresh,\n      setRefresh\n    }\n  }, __jsx(ProductList, {\n    valueID: valueID\n  })), __jsx(\"div\", {\n    className: \"product-btn\"\n  }, __jsx(Button, {\n    primary: true,\n    onClick: () => {\n      setOpen(true);\n    }\n  }, \"Open Product Picker\")), __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: async resources => {\n      resources.selection.length === 1 ? db_data = {\n        product_first: resources.selection[0].handle,\n        product_second: null,\n        product_third: null,\n        product_forth: null\n      } : null;\n      resources.selection.length === 2 ? db_data = {\n        product_first: resources.selection[0].handle,\n        product_second: resources.selection[1].handle,\n        product_third: null,\n        product_forth: null\n      } : null;\n      resources.selection.length === 3 ? db_data = {\n        product_first: resources.selection[0].handle,\n        product_second: resources.selection[1].handle,\n        product_third: resources.selection[2].handle,\n        product_forth: null\n      } : null;\n      resources.selection.length >= 4 ? db_data = {\n        product_first: resources.selection[0].handle,\n        product_second: resources.selection[1].handle,\n        product_third: resources.selection[2].handle,\n        product_forth: resources.selection[3].handle\n      } : null;\n      setOpen(false);\n      await axios.put(config.HTTP_API + '/store/' + valueID, db_data);\n      setRefresh(true);\n    },\n    onCancel: () => setOpen(false)\n  }));\n}\n\nexport default ProductPicker;","map":{"version":3,"sources":["C:/Users/molek/OneDrive/Desktop/Work/Magic-Upsell/client/components/ProductPicker.js"],"names":["React","useState","ResourcePicker","TitleBar","Card","Button","axios","ProductList","config","require","Refresh","createContext","ProductPicker","valueID","open","setOpen","refresh","setRefresh","db_data","resources","selection","length","product_first","handle","product_second","product_third","product_forth","put","HTTP_API"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  ResourcePicker, TitleBar\r\n} from '@shopify/app-bridge-react';\r\nimport { Card, Button } from '@shopify/polaris';\r\nimport '../css/AppStyle.css';\r\nimport axios from 'axios';\r\nimport ProductList from './ProductList.js'\r\nconst config = require('../../server/config/httpConfig.js');\r\nimport '../css/AppStyle.css';\r\nexport const Refresh = React.createContext();\r\n\r\nfunction ProductPicker({valueID}) {\r\n  const [open, setOpen] = useState(false);\r\n  const [refresh, setRefresh] = useState(false);\r\n  var db_data = {};\r\n  return (\r\n    <Card sectioned>\r\n      <Refresh.Provider value={{refresh, setRefresh}}>\r\n        <ProductList valueID={valueID}/>\r\n      </Refresh.Provider>\r\n      <div className=\"product-btn\">\r\n        <Button\r\n        primary\r\n        onClick = {() => {\r\n          setOpen(true);\r\n        }}>Open Product Picker</Button>\r\n      </div>\r\n      <ResourcePicker\r\n        resourceType=\"Product\"\r\n        showVariants={false}\r\n        open={open}\r\n        onSelection={async (resources) => {\r\n          resources.selection.length === 1 ? db_data = {product_first:resources.selection[0].handle, product_second:null, product_third:null, product_forth:null} : null;\r\n          resources.selection.length === 2 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:null, product_forth:null} : null;\r\n          resources.selection.length === 3 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:resources.selection[2].handle, product_forth:null} : null;\r\n          resources.selection.length >= 4 ? db_data = {product_first:resources.selection[0].handle, product_second:resources.selection[1].handle, product_third:resources.selection[2].handle, product_forth:resources.selection[3].handle} : null;\r\n          setOpen(false);\r\n          await axios.put(config.HTTP_API + '/store/' + valueID, db_data);\r\n          setRefresh(true);\r\n        }}\r\n        onCancel={()=>setOpen(false)}\r\n        />\r\n\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProductPicker;\r\n"]},"metadata":{},"sourceType":"module"}