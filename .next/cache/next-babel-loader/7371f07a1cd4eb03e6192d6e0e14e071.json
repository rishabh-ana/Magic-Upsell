{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport { EmptyState, Layout, Page, Banner, Card, Heading, Frame, SkeletonBodyText, SkeletonDisplayText, SkeletonPage, TextContainer } from '@shopify/polaris';\nimport { TitleBar } from '@shopify/app-bridge-react';\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\n\nconst config = require('../server/config/httpConfig.js');\n\nimport axios from 'axios';\nimport { GET_SHOP_ID, CREATE_RECURRING } from '../server/config/appBasicQuery.js';\nimport { useQuery, useMutation } from 'react-apollo';\nimport '../client/css/AppStyle.css';\nimport Recommend from '../client/components/Recommend.js';\n\nfunction Index() {\n  const isInitialMount = useRef(true);\n  const [recurr] = useMutation(CREATE_RECURRING);\n  const {\n    error: errorID,\n    data: dataID\n  } = useQuery(GET_SHOP_ID);\n  const {\n    0: empty,\n    1: setEmpty\n  } = useState(true);\n  const approve = useRef('block');\n  const {\n    0: pending,\n    1: setPending\n  } = useState(true);\n  const {\n    0: freeTrial,\n    1: setFreeTrial\n  } = useState(14);\n  const deadline = useRef(0);\n  useEffect(() => {\n    async function redirectUser(day_install, day_un) {\n      setPending(true);\n      approve.current = 'none';\n      const result = await recurr({\n        variables: {\n          name: \"Unlimited\",\n          lineItems: [{\n            plan: {\n              appRecurringPricingDetails: {\n                price: {\n                  amount: 9.95,\n                  currencyCode: \"USD\"\n                }\n              }\n            }\n          }],\n          returnUrl: \"https://app.magicupsell.com/\",\n          trialDays: 1\n        }\n      });\n      axios.put(config.HTTP_API + '/store/' + config.ExtractId(dataID.shop.id), {\n        confirm: result.data.appSubscriptionCreate.appSubscription.id\n      }).then(cc => {\n        window.top.location = result.data.appSubscriptionCreate.confirmationUrl;\n      });\n    }\n\n    async function checkStatus() {\n      axios.post(config.HTTP_API + '/store/search/status', {\n        search: config.ExtractId(dataID.shop.id)\n      }).then(result => {\n        if (result.data[0].confirm != null) {\n          //new user\n          axios.get(config.HTTP_API + '/charge/' + config.ExtractId(result.data[0].confirm)).then(dd => {\n            if (dd.data.data.recurring_application_charge.status === 'active') {\n              setPending(false);\n            } else redirectUser();\n          });\n        } else {\n          //old user\n          if (result.data[0].status === 'ACTIVE') setPending(false);else redirectUser();\n        }\n      });\n    }\n\n    async function getData() {\n      const db_data = {\n        search: config.ExtractId(dataID.shop.id)\n      };\n      await axios.post(config.HTTP_API + '/store/search/mode', db_data).then(result => {\n        result.data[0].upsell_mode ? setEmpty(false) : setEmpty(true);\n      });\n    }\n\n    async function fetchData() {\n      if (isInitialMount.current && dataID) {\n        await checkStatus();\n        isInitialMount.current = false;\n        await getData();\n      }\n    }\n\n    fetchData();\n  });\n  return __jsx(\"div\", null, __jsx(Page, null, !pending ? empty ? __jsx(EmptyState, {\n    heading: \"Boost your sales\",\n    action: {\n      content: 'Start',\n      url: '/faq-layout'\n    },\n    image: \"https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg\"\n  }, __jsx(\"p\", null, \"Read our \", __jsx(\"a\", {\n    href: \"/faq-layout\"\n  }, \"instruction\"), \" to set up your first upsell\")) : __jsx(\"div\", null, __jsx(\"header\", {\n    style: {\n      textAlign: \"center\",\n      padding: \"50px\"\n    }\n  }, __jsx(\"h1\", {\n    style: {\n      fontSize: \"2.5em\",\n      marginBottom: \"20px\"\n    }\n  }, \"Magic AI Post-Purchase Upsell\"), __jsx(\"p\", {\n    style: {\n      fontSize: \"1.5em\"\n    }\n  }, \"Increase your sales with our magic pop up...\")), __jsx(Banner, {\n    className: \"index-banner\",\n    title: \"We Got An update For Upsell Design!\",\n    status: \"info\"\n  }, __jsx(\"p\", null, \"You can now edit your button text in design page. Use your creative text in your language to get familiar with your customers! Please RE-ENABLE your the pop-up in order to use this new feature.\")), __jsx(Banner, {\n    className: \"index-banner\",\n    title: \"Conguatulation! Your upsell is now activated.\",\n    status: \"success\",\n    action: {\n      content: 'App setting',\n      url: '/annotated-layout'\n    }\n  }, __jsx(\"p\", null, \"You can start with design your upsell theme or create an attractive discount.\", __jsx(\"br\", null), \" We value feedback! It helps us make our product better and keeps us energized. Let us know how we're doing. \", __jsx(\"a\", {\n    href: \"https://apps.shopify.com/magic-ai-post-purchase-upsell\",\n    target: \"_blank\"\n  }, \"Review\"))), __jsx(\"br\", null), __jsx(Layout, null, __jsx(Layout.Section, {\n    oneThird: true\n  }, __jsx(Card, {\n    title: \"Design theme\",\n    secondaryFooterActions: [{\n      content: 'Start',\n      url: '/design-layout'\n    }]\n  }, __jsx(Card.Section, null, __jsx(\"p\", null, \"Create your own theme by using different colors to fit your store. Or set up a timer to attract your customers.\"), __jsx(\"br\", null), __jsx(\"p\", null, \"Your theme settings will be applied to both upsell mode.\"), __jsx(\"br\", null), __jsx(\"br\", null)))), __jsx(Layout.Section, {\n    oneThird: true\n  }, __jsx(Card, {\n    title: \"Report\",\n    secondaryFooterActions: [{\n      content: 'Analytics',\n      url: '/analytics-layout'\n    }]\n  }, __jsx(Card.Section, null, __jsx(\"p\", null, \"Create a report to find out how your upsell performed.\"), __jsx(\"br\", null), __jsx(\"p\", null, \"Daily, weekly or you can customize the date to create the report.\"), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"br\", null)))), __jsx(Layout.Section, {\n    oneThird: true\n  }, __jsx(Card, {\n    title: \"Need help?\"\n  }, __jsx(Card.Section, null, __jsx(\"p\", null, \"Follow our \", __jsx(\"a\", {\n    href: \"/faq-layout\"\n  }, \"FAQ guide\"), \" to get started, additional help can be found here.\")), __jsx(Card.Section, null, __jsx(\"p\", null, \"Our team is always here to help with App installation and other issues. Feel free to reach us by email: support@smartecomtech.com\"), __jsx(\"br\", null), __jsx(\"p\", null, \"(Monday - Friday, 9am to 5pm)\"))))), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(Recommend, null)) : __jsx(Frame, null, __jsx(SkeletonPage, {\n    title: \"Preparing...\"\n  }, __jsx(Layout, null, __jsx(Layout.Section, null, __jsx(Card, {\n    subdued: true\n  }, __jsx(Card.Section, null, __jsx(TextContainer, null, __jsx(SkeletonDisplayText, {\n    size: \"small\"\n  }), __jsx(SkeletonBodyText, {\n    lines: 2\n  }))), __jsx(Card.Section, null, __jsx(SkeletonBodyText, {\n    lines: 2\n  })))))))));\n}\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/molek/OneDrive/Desktop/Work/Magic-Upsell/pages/index.js"],"names":["React","useState","useEffect","useRef","EmptyState","Layout","Page","Banner","Card","Heading","Frame","SkeletonBodyText","SkeletonDisplayText","SkeletonPage","TextContainer","TitleBar","img","config","require","axios","GET_SHOP_ID","CREATE_RECURRING","useQuery","useMutation","Recommend","Index","isInitialMount","recurr","error","errorID","data","dataID","empty","setEmpty","approve","pending","setPending","freeTrial","setFreeTrial","deadline","redirectUser","day_install","day_un","current","result","variables","name","lineItems","plan","appRecurringPricingDetails","price","amount","currencyCode","returnUrl","trialDays","put","HTTP_API","ExtractId","shop","id","confirm","appSubscriptionCreate","appSubscription","then","cc","window","top","location","confirmationUrl","checkStatus","post","search","get","dd","recurring_application_charge","status","getData","db_data","upsell_mode","fetchData","content","url","textAlign","padding","fontSize","marginBottom"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,EAAmCC,MAAnC,QAAiD,OAAjD;AACA,SACIC,UADJ,EAEIC,MAFJ,EAEYC,IAFZ,EAEkBC,MAFlB,EAE0BC,IAF1B,EAEgCC,OAFhC,EAEyCC,KAFzC,EAGIC,gBAHJ,EAGsBC,mBAHtB,EAG2CC,YAH3C,EAIIC,aAJJ,QAKO,kBALP;AAMA,SAASC,QAAT,QAAyB,2BAAzB;AACA,MAAMC,GAAG,GAAG,mEAAZ;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,gCAAD,CAAtB;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAoBC,gBAApB,QAA2C,mCAA3C;AACA,SAASC,QAAT,EAAkBC,WAAlB,QAAqC,cAArC;AACA,OAAO,4BAAP;AACA,OAAOC,SAAP,MAAsB,mCAAtB;;AAEA,SAASC,KAAT,GAAiB;AACf,QAAMC,cAAc,GAAGvB,MAAM,CAAC,IAAD,CAA7B;AACA,QAAM,CAACwB,MAAD,IAAWJ,WAAW,CAACF,gBAAD,CAA5B;AACA,QAAM;AAACO,IAAAA,KAAK,EAACC,OAAP;AAAgBC,IAAAA,IAAI,EAACC;AAArB,MAA+BT,QAAQ,CAACF,WAAD,CAA7C;AACA,QAAM;AAAA,OAACY,KAAD;AAAA,OAAQC;AAAR,MAAoBhC,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMiC,OAAO,GAAG/B,MAAM,CAAC,OAAD,CAAtB;AACA,QAAM;AAAA,OAACgC,OAAD;AAAA,OAAUC;AAAV,MAAwBnC,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACoC,SAAD;AAAA,OAAYC;AAAZ,MAA4BrC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAMsC,QAAQ,GAAGpC,MAAM,CAAC,CAAD,CAAvB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAesC,YAAf,CAA4BC,WAA5B,EAAyCC,MAAzC,EAAiD;AAC/CN,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,MAAAA,OAAO,CAACS,OAAR,GAAkB,MAAlB;AACA,YAAMC,MAAM,GAAG,MAAMjB,MAAM,CAAC;AAC1BkB,QAAAA,SAAS,EAAC;AACRC,UAAAA,IAAI,EAAE,WADE;AAERC,UAAAA,SAAS,EAAE,CAAC;AACVC,YAAAA,IAAI,EAAE;AACJC,cAAAA,0BAA0B,EAAE;AACxBC,gBAAAA,KAAK,EAAE;AAAEC,kBAAAA,MAAM,EAAE,IAAV;AAAgBC,kBAAAA,YAAY,EAAE;AAA9B;AADiB;AADxB;AADI,WAAD,CAFH;AASRC,UAAAA,SAAS,EAAE,8BATH;AAURC,UAAAA,SAAS,EAAE;AAVH;AADgB,OAAD,CAA3B;AAcAnC,MAAAA,KAAK,CAACoC,GAAN,CAAUtC,MAAM,CAACuC,QAAP,GAAkB,SAAlB,GAA8BvC,MAAM,CAACwC,SAAP,CAAiB1B,MAAM,CAAC2B,IAAP,CAAYC,EAA7B,CAAxC,EAA0E;AAACC,QAAAA,OAAO,EAAChB,MAAM,CAACd,IAAP,CAAY+B,qBAAZ,CAAkCC,eAAlC,CAAkDH;AAA3D,OAA1E,EAA0II,IAA1I,CAAgJC,EAAD,IAAM;AAACC,QAAAA,MAAM,CAACC,GAAP,CAAWC,QAAX,GAAoBvB,MAAM,CAACd,IAAP,CAAY+B,qBAAZ,CAAkCO,eAAtD;AAAuE,OAA7N;AACD;;AAED,mBAAeC,WAAf,GAA6B;AAC3BlD,MAAAA,KAAK,CAACmD,IAAN,CAAWrD,MAAM,CAACuC,QAAP,GAAkB,sBAA7B,EAAqD;AAACe,QAAAA,MAAM,EAACtD,MAAM,CAACwC,SAAP,CAAiB1B,MAAM,CAAC2B,IAAP,CAAYC,EAA7B;AAAR,OAArD,EAAgGI,IAAhG,CAAqGnB,MAAM,IAAI;AAC9G,YAAGA,MAAM,CAACd,IAAP,CAAY,CAAZ,EAAe8B,OAAf,IAA0B,IAA7B,EAAkC;AACxC;AACSzC,UAAAA,KAAK,CAACqD,GAAN,CAAUvD,MAAM,CAACuC,QAAP,GAAiB,UAAjB,GAA4BvC,MAAM,CAACwC,SAAP,CAAiBb,MAAM,CAACd,IAAP,CAAY,CAAZ,EAAe8B,OAAhC,CAAtC,EAAgFG,IAAhF,CAAsFU,EAAD,IAAM;AAChG,gBAAGA,EAAE,CAAC3C,IAAH,CAAQA,IAAR,CAAa4C,4BAAb,CAA0CC,MAA1C,KAAqD,QAAxD,EAAkE;AAACvC,cAAAA,UAAU,CAAC,KAAD,CAAV;AAAmB,aAAtF,MACKI,YAAY;AACX,WAHD;AAIR,SANK,MAOD;AACL;AACG,cAAGI,MAAM,CAACd,IAAP,CAAY,CAAZ,EAAe6C,MAAf,KAA0B,QAA7B,EAAuCvC,UAAU,CAAC,KAAD,CAAV,CAAvC,KACKI,YAAY;AACnB;AACK,OAbD;AAcD;;AAED,mBAAeoC,OAAf,GAAyB;AACvB,YAAMC,OAAO,GAAG;AAACN,QAAAA,MAAM,EAACtD,MAAM,CAACwC,SAAP,CAAiB1B,MAAM,CAAC2B,IAAP,CAAYC,EAA7B;AAAR,OAAhB;AACA,YAAMxC,KAAK,CAACmD,IAAN,CAAWrD,MAAM,CAACuC,QAAP,GAAkB,oBAA7B,EAAmDqB,OAAnD,EAA4Dd,IAA5D,CAAiEnB,MAAM,IAAI;AAC/EA,QAAAA,MAAM,CAACd,IAAP,CAAY,CAAZ,EAAegD,WAAf,GAA6B7C,QAAQ,CAAC,KAAD,CAArC,GAA+CA,QAAQ,CAAC,IAAD,CAAvD;AACD,OAFK,CAAN;AAGD;;AAED,mBAAe8C,SAAf,GAA2B;AACzB,UAAIrD,cAAc,CAACiB,OAAf,IAA0BZ,MAA9B,EAAsC;AACpC,cAAMsC,WAAW,EAAjB;AACA3C,QAAAA,cAAc,CAACiB,OAAf,GAAyB,KAAzB;AACA,cAAMiC,OAAO,EAAb;AACD;AACF;;AAEDG,IAAAA,SAAS;AACV,GAtDQ,CAAT;AAuDA,SACE,mBACA,MAAC,IAAD,QACC,CAAC5C,OAAD,GACCH,KAAK,GACL,MAAC,UAAD;AACA,IAAA,OAAO,EAAC,kBADR;AAEA,IAAA,MAAM,EAAE;AAACgD,MAAAA,OAAO,EAAE,OAAV;AAAmBC,MAAAA,GAAG,EAAE;AAAxB,KAFR;AAGA,IAAA,KAAK,EAAC;AAHN,KAKA,8BAAY;AAAG,IAAA,IAAI,EAAC;AAAR,mBAAZ,iCALA,CADK,GASL,mBACL;AAAQ,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAC,QAAX;AAAoBC,MAAAA,OAAO,EAAC;AAA5B;AAAf,KACS;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAC,OAAV;AAAkBC,MAAAA,YAAY,EAAC;AAA/B;AAAX,qCADT,EAES;AAAG,IAAA,KAAK,EAAE;AAACD,MAAAA,QAAQ,EAAC;AAAV;AAAV,oDAFT,CADK,EAKL,MAAC,MAAD;AACS,IAAA,SAAS,EAAC,cADnB;AAES,IAAA,KAAK,EAAC,qCAFf;AAGS,IAAA,MAAM,EAAC;AAHhB,KAIS,qNAJT,CALK,EAWE,MAAC,MAAD;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,KAAK,EAAC,+CAFR;AAGE,IAAA,MAAM,EAAC,SAHT;AAIE,IAAA,MAAM,EAAE;AAACJ,MAAAA,OAAO,EAAE,aAAV;AAAyBC,MAAAA,GAAG,EAAE;AAA9B;AAJV,KAKE,kGAAgF,iBAAhF,mHAAkM;AAAG,IAAA,IAAI,EAAC,wDAAR;AAAiE,IAAA,MAAM,EAAC;AAAxE,cAAlM,CALF,CAXF,EAkBE,iBAlBF,EAmBE,MAAC,MAAD,QACE,MAAC,MAAD,CAAQ,OAAR;AAAgB,IAAA,QAAQ;AAAxB,KACE,MAAC,IAAD;AACA,IAAA,KAAK,EAAC,cADN;AAEA,IAAA,sBAAsB,EAAE,CAAC;AAACD,MAAAA,OAAO,EAAE,OAAV;AAAmBC,MAAAA,GAAG,EAAC;AAAvB,KAAD;AAFxB,KAIE,MAAC,IAAD,CAAM,OAAN,QACE,mIADF,EAEE,iBAFF,EAGE,4EAHF,EAIE,iBAJF,EAIO,iBAJP,CAJF,CADF,CADF,EAcE,MAAC,MAAD,CAAQ,OAAR;AAAgB,IAAA,QAAQ;AAAxB,KACE,MAAC,IAAD;AACA,IAAA,KAAK,EAAC,QADN;AAEA,IAAA,sBAAsB,EAAE,CAAC;AAACD,MAAAA,OAAO,EAAE,WAAV;AAAuBC,MAAAA,GAAG,EAAC;AAA3B,KAAD;AAFxB,KAIE,MAAC,IAAD,CAAM,OAAN,QACE,0EADF,EAEE,iBAFF,EAGE,qFAHF,EAIE,iBAJF,EAIO,iBAJP,EAIY,iBAJZ,CAJF,CADF,CAdF,EA2BE,MAAC,MAAD,CAAQ,OAAR;AAAgB,IAAA,QAAQ;AAAxB,KACE,MAAC,IAAD;AACA,IAAA,KAAK,EAAC;AADN,KAGA,MAAC,IAAD,CAAM,OAAN,QACE,gCAAc;AAAG,IAAA,IAAI,EAAC;AAAR,iBAAd,wDADF,CAHA,EAMA,MAAC,IAAD,CAAM,OAAN,QACE,qJADF,EAEE,iBAFF,EAEO,iDAFP,CANA,CADF,CA3BF,CAnBF,EA4DL,iBA5DK,EA6DL,iBA7DK,EA8DL,MAAC,SAAD,OA9DK,CAVD,GA2EC,MAAC,KAAD,QACE,MAAC,YAAD;AAAc,IAAA,KAAK,EAAC;AAApB,KACE,MAAC,MAAD,QACE,MAAC,MAAD,CAAQ,OAAR,QACE,MAAC,IAAD;AAAM,IAAA,OAAO;AAAb,KACE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,aAAD,QACE,MAAC,mBAAD;AAAqB,IAAA,IAAI,EAAC;AAA1B,IADF,EAEE,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE;AAAzB,IAFF,CADF,CADF,EAOE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE;AAAzB,IADF,CAPF,CADF,CADF,CADF,CADF,CA5EF,CADA,CADF;AAqGD;;AAED,eAAexD,KAAf","sourcesContent":["import React, { useState,useEffect,useRef } from 'react';\r\nimport {\r\n    EmptyState,\r\n    Layout, Page, Banner, Card, Heading, Frame,\r\n    SkeletonBodyText, SkeletonDisplayText, SkeletonPage,\r\n    TextContainer\r\n} from '@shopify/polaris';\r\nimport { TitleBar } from '@shopify/app-bridge-react';\r\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\r\nconst config = require('../server/config/httpConfig.js');\r\nimport axios from 'axios';\r\nimport {GET_SHOP_ID,CREATE_RECURRING} from '../server/config/appBasicQuery.js';\r\nimport { useQuery,useMutation } from 'react-apollo';\r\nimport '../client/css/AppStyle.css';\r\nimport Recommend from '../client/components/Recommend.js'\r\n\r\nfunction Index() {\r\n  const isInitialMount = useRef(true);\r\n  const [recurr] = useMutation(CREATE_RECURRING);\r\n  const {error:errorID, data:dataID} = useQuery(GET_SHOP_ID);\r\n  const [empty, setEmpty] = useState(true);\r\n  const approve = useRef('block');\r\n  const [pending, setPending] = useState(true);\r\n  const [freeTrial, setFreeTrial] = useState(14);\r\n  const deadline = useRef(0);\r\n\r\n  useEffect(() => {\r\n    async function redirectUser(day_install, day_un) {\r\n      setPending(true);\r\n      approve.current = 'none';\r\n      const result = await recurr({\r\n        variables:{\r\n          name: \"Unlimited\",\r\n          lineItems: [{\r\n            plan: {\r\n              appRecurringPricingDetails: {\r\n                  price: { amount: 9.95, currencyCode: \"USD\" }\r\n              }\r\n            }\r\n          }],\r\n          returnUrl: \"https://app.magicupsell.com/\",\r\n          trialDays: 1\r\n        }\r\n      });\r\n      axios.put(config.HTTP_API + '/store/' + config.ExtractId(dataID.shop.id), {confirm:result.data.appSubscriptionCreate.appSubscription.id}).then((cc)=>{window.top.location=result.data.appSubscriptionCreate.confirmationUrl;});\r\n    }\r\n\r\n    async function checkStatus() {\r\n      axios.post(config.HTTP_API + '/store/search/status', {search:config.ExtractId(dataID.shop.id)}).then(result => {\r\n       if(result.data[0].confirm != null){\r\n\t//new user\r\n          axios.get(config.HTTP_API +'/charge/'+config.ExtractId(result.data[0].confirm)).then((dd)=>{\r\n\t    if(dd.data.data.recurring_application_charge.status === 'active') {setPending(false);}\r\n\t    else redirectUser();\r\n          });\r\n\t}\r\n\telse {\r\n\t//old user\r\n\t   if(result.data[0].status === 'ACTIVE') setPending(false);\r\n\t   else redirectUser();\r\n\t}\r\n      });\r\n    }\r\n\r\n    async function getData() {\r\n      const db_data = {search:config.ExtractId(dataID.shop.id)};\r\n      await axios.post(config.HTTP_API + '/store/search/mode', db_data).then(result => {\r\n        result.data[0].upsell_mode ? setEmpty(false) : setEmpty(true);\r\n      });\r\n    }\r\n\r\n    async function fetchData() {\r\n      if (isInitialMount.current && dataID) {\r\n        await checkStatus();\r\n        isInitialMount.current = false;\r\n        await getData();\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  });\r\n  return(\r\n    <div>\r\n    <Page>\r\n    {!pending ?\r\n      empty ?\r\n      <EmptyState\r\n      heading=\"Boost your sales\"\r\n      action={{content: 'Start', url: '/faq-layout'}}\r\n      image=\"https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg\"\r\n      >\r\n      <p>Read our <a href=\"/faq-layout\">instruction</a> to set up your first upsell</p>\r\n      </EmptyState>\r\n      :\r\n      <div>\r\n\t<header style={{textAlign:\"center\",padding:\"50px\"}}>\r\n          <h1 style={{fontSize:\"2.5em\",marginBottom:\"20px\"}}>Magic AI Post-Purchase Upsell</h1>\r\n          <p style={{fontSize:\"1.5em\"}}>Increase your sales with our magic pop up...</p>\r\n \t</header>\r\n\t<Banner\r\n          className=\"index-banner\"\r\n          title=\"We Got An update For Upsell Design!\"\r\n          status=\"info\">\r\n          <p>You can now edit your button text in design page. Use your creative text in your language to get familiar with your customers! Please RE-ENABLE your the pop-up in order to use this new feature.</p>\r\n        </Banner>\r\n        <Banner\r\n          className=\"index-banner\"\r\n          title=\"Conguatulation! Your upsell is now activated.\"\r\n          status=\"success\"\r\n          action={{content: 'App setting', url: '/annotated-layout'}}>\r\n          <p>You can start with design your upsell theme or create an attractive discount.<br/> We value feedback! It helps us make our product better and keeps us energized. Let us know how we're doing. <a href=\"https://apps.shopify.com/magic-ai-post-purchase-upsell\" target=\"_blank\">Review</a></p>\r\n        </Banner>\r\n        <br/>\r\n        <Layout>\r\n          <Layout.Section oneThird>\r\n            <Card\r\n            title=\"Design theme\"\r\n            secondaryFooterActions={[{content: 'Start', url:'/design-layout'}]}\r\n            >\r\n              <Card.Section>\r\n                <p>Create your own theme by using different colors to fit your store. Or set up a timer to attract your customers.</p>\r\n                <br/>\r\n                <p>Your theme settings will be applied to both upsell mode.</p>\r\n                <br/><br/>\r\n              </Card.Section>\r\n            </Card>\r\n          </Layout.Section>\r\n          <Layout.Section oneThird>\r\n            <Card\r\n            title=\"Report\"\r\n            secondaryFooterActions={[{content: 'Analytics', url:'/analytics-layout'}]}\r\n            >\r\n              <Card.Section>\r\n                <p>Create a report to find out how your upsell performed.</p>\r\n                <br/>\r\n                <p>Daily, weekly or you can customize the date to create the report.</p>\r\n                <br/><br/><br/>\r\n              </Card.Section>\r\n            </Card>\r\n          </Layout.Section>\r\n          <Layout.Section oneThird>\r\n            <Card\r\n            title=\"Need help?\"\r\n            >\r\n            <Card.Section>\r\n              <p>Follow our <a href=\"/faq-layout\">FAQ guide</a> to get started, additional help can be found here.</p>\r\n            </Card.Section>\r\n            <Card.Section>\r\n              <p>Our team is always here to help with App installation and other issues. Feel free to reach us by email: support@smartecomtech.com</p>\r\n              <br/><p>(Monday - Friday, 9am to 5pm)</p>\r\n            </Card.Section>\r\n          </Card>\r\n          </Layout.Section>\r\n        </Layout>\r\n\t<br/>\r\n\t<br/>\r\n\t<Recommend/>\r\n      </div>\r\n      :\r\n      <Frame>\r\n        <SkeletonPage title=\"Preparing...\">\r\n          <Layout>\r\n            <Layout.Section>\r\n              <Card subdued>\r\n                <Card.Section>\r\n                  <TextContainer>\r\n                    <SkeletonDisplayText size=\"small\" />\r\n                    <SkeletonBodyText lines={2} />\r\n                  </TextContainer>\r\n                </Card.Section>\r\n                <Card.Section>\r\n                  <SkeletonBodyText lines={2} />\r\n                </Card.Section>\r\n              </Card>\r\n            </Layout.Section>\r\n          </Layout>\r\n        </SkeletonPage>\r\n    </Frame>\r\n    }\r\n    </Page>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}